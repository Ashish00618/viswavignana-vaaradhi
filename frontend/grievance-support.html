<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grievance/Support Request - Viswa Vignana Vaaradhi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <style>
        .fade-in { opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .fade-in.visible { opacity: 1; transform: translateY(0); }
        .nav-link { transition: all 0.3s ease; }
        .nav-link:hover { transform: scale(1.1); color: #F0F5FF; }
        .btn-primary { background: linear-gradient(to right, #1E3A8A, #3B82F6); transition: all 0.3s ease; }
        .btn-primary:hover { transform: scale(1.05); box-shadow: 0 4px 15px rgba(0, 0, 255, 0.3); }
        .form-container { backdrop-filter: blur(10px); background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); transition: all 0.3s ease; }
        .form-container:hover { box-shadow: 0 6px 20px rgba(0, 0, 255, 0.3); border: 1px solid #3B82F6; }
        input, select, textarea { transition: all 0.3s ease; }
        input:focus, select:focus, textarea:focus { box-shadow: 0 0 10px rgba(59, 130, 246, 0.5); border-color: #3B82F6; }
        .footer-link { transition: all 0.3s ease; }
        .footer-link:hover { color: #F0F5FF; text-decoration: underline; }
        .dropdown { position: relative; }
        .dropdown-content { display: none; position: absolute; background-color: #1E3A8A; min-width: 200px; box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); z-index: 10; top: 100%; left: 0; opacity: 0; transform: translateY(10px); transition: opacity 0.3s ease, transform 0.3s ease; }
        .dropdown-content a { color: white; padding: 12px 16px; text-decoration: none; display: block; transition: background-color 0.3s ease; }
        .dropdown-content a:hover { background-color: #3B82F6; }
        .dropdown:hover .dropdown-content { display: block; opacity: 1; transform: translateY(0); }
        .hero-section, .form-section { background: linear-gradient(45deg, #1E3A8A, #3B82F6, #8B5CF6, #EC4899); background-size: 400%; animation: gradientAnimation 15s ease infinite; }
        @keyframes gradientAnimation { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        #scrollToTopBtn { position: fixed; bottom: 30px; right: 30px; background: linear-gradient(to right, #3B82F6, #8B5CF6); color: white; padding: 12px 16px; border-radius: 50%; box-shadow: 0 0 10px rgba(59, 130, 246, 0.5); transition: all 0.3s ease; display: none; z-index: 1000; }
        #scrollToTopBtn:hover { box-shadow: 0 0 20px rgba(59, 130, 246, 0.8); transform: scale(1.1); }
        #districtSection { display: none; }
    </style>
</head>
<body class="font-sans bg-[#F0F5FF] text-[#1F2937]" style="font-family: 'Poppins', sans-serif;">
    <header class="bg-[#1E3A8A] bg-opacity-90 text-white h-16 sticky top-0 z-20 shadow-lg py-0 px-4">
        <div class="container mx-auto flex justify-between items-center h-full">
            <div class="flex items-center space-x-3">
                <img src="/images/logo.png" alt="Viswa Vignana Vaaradhi Logo" class="h-16 w-16 rounded-none shadow-md">
                <h2 class="text-2xl font-bold">Viswa Vignana Vaaradhi</h2>
            </div>
            <nav class="flex items-center space-x-4">
                <a href="index.html" class="nav-link hover:underline">Home</a>
                <a href="about.html" class="nav-link hover:underline">About</a>
                <a href="get-involved.html" class="nav-link hover:underline">Get Involved</a>
                <div class="dropdown">
                    <a href="our-work.html" class="nav-link hover:underline">Our Work</a>
                    <div class="dropdown-content">
                        <a href="education.html">Education</a>
                        <a href="political-legal-literacy.html">Political/Legal Literacy</a>
                        <a href="rural-development.html">Rural Development</a>
                        <a href="agriculture.html">Agriculture</a>
                        <a href="health.html">Health</a>
                    </div>
                </div>
                <a href="gallery.html" class="nav-link hover:underline">Gallery</a>
                <a href="contact.html" class="nav-link hover:underline">Contact</a>
                <a href="donate.html" class="btn-primary text-white px-4 py-2 rounded-full transition">Donate Now</a>
            </nav>
        </div>
    </header>

    <section class="hero-section py-20 text-center text-white relative fade-in">
        <div id="particles-js-hero" class="absolute inset-0"></div>
        <div class="container mx-auto px-4 relative z-10">
            <h2 class="text-5xl font-bold mb-4">Grievance/Support Request</h2>
            <p class="text-xl mb-8 max-w-2xl mx-auto">Have a concern or need support? Submit your request, and our team will assist you.</p>
        </div>
    </section>

    <section class="form-section py-20 relative">
        <div id="particles-js-form" class="absolute inset-0"></div>
        <div class="container mx-auto px-4 relative z-10">
            <div class="fade-in">
                <h3 class="text-3xl font-bold mb-6 text-white text-center">Grievance/Support Request Form</h3>
                <div class="max-w-2xl mx-auto form-container p-6 rounded-xl">
                    <form id="grievanceForm">
                        <div class="mb-6">
                            <h4 class="text-xl font-semibold mb-4 text-white">1. Personal Information</h4>
                            <div class="mb-4">
                                <label for="fullName" class="block text-lg font-semibold mb-2 text-white">Full Name</label>
                                <input type="text" id="fullName" name="fullName" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E3A8A]" required>
                            </div>
                            <div class="mb-4">
                                <label for="mobileNumber" class="block text-lg font-semibold mb-2 text-white">Mobile Number</label>
                                <input type="tel" id="mobileNumber" name="mobileNumber" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E3A8A]" required>
                            </div>
                            <div class="mb-4">
                                <label for="email" class="block text-lg font-semibold mb-2 text-white">Email ID (Optional)</label>
                                <input type="email" id="email" name="email" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E3A8A]">
                            </div>
                        </div>

                        <div class="mb-6">
                            <h4 class="text-xl font-semibold mb-4 text-white">2. Address Details</h4>
                            <div class="mb-4">
                                <label for="state" class="block text-lg font-semibold mb-2 text-white">State</label>
                                <select id="state" name="state" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E3A8A]" required>
                                    <option value="" disabled selected>Select a state</option>
                                    <option value="andhra-pradesh">Andhra Pradesh</option>
                                    <option value="telangana">Telangana</option>
                                    <option value="delhi">Delhi</option>
                                </select>
                            </div>
                            <div id="districtSection" class="mb-4">
                                <label for="district" class="block text-lg font-semibold mb-2 text-white">District</label>
                                <select id="district" name="district" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E3A8A]" required>
                                    <option value="" disabled selected>Select a district</option>
                                </select>
                            </div>
                            <div class="mb-4">
                                <label for="mandal" class="block text-lg font-semibold mb-2 text-white">Mandal</label>
                                <input type="text" id="mandal" name="mandal" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E3A8A]" required>
                            </div>
                        </div>

                        <div class="mb-6">
                            <h4 class="text-xl font-semibold mb-4 text-white">3. Area of Service / Concern</h4>
                            <div class="mb-4">
                                <label for="category" class="block text-lg font-semibold mb-2 text-white">Select Desired Service</label>
                                <select id="category" name="category" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E3A8A]" required>
                                    <option value="" disabled selected>Select a category</option>
                                    <option value="political-literacy-civic-engagement">Political Literacy & Civic Engagement</option>
                                    <option value="legal-literacy-access-to-justice">Legal Literacy & Access to Justice</option>
                                    <option value="education-skill-development">Education & Skill Development</option>
                                    <option value="agriculture-rural-livelihoods">Agriculture & Rural Livelihoods</option>
                                    <option value="rural-development-community-empowerment">Rural Development & Community Empowerment</option>
                                    <option value="health-well-being">Health & Well-being</option>
                                </select>
                            </div>
                            <div class="mb-4">
                                <label for="subcategory" class="block text-lg font-semibold mb-2 text-white">Select Subcategory</label>
                                <select id="subcategory" name="subcategory" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E3A8A]" required>
                                    <option value="" disabled selected>Select a subcategory</option>
                                    <!-- Subcategories to be populated dynamically or manually -->
                        
                                </select>
                            </div>
                        </div>

                        <div class="mb-6">
                            <h4 class="text-xl font-semibold mb-4 text-white">4. Details of Grievance/Support Request</h4>
                            <div class="mb-4">
                                <label for="description" class="block text-lg font-semibold mb-2 text-white">Description</label>
                                <textarea id="description" name="description" rows="5" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1E3A8A]" required></textarea>
                            </div>
                        </div>

                        <div class="mb-6">
                            <h4 class="text-xl font-semibold mb-4 text-white">5. Declaration</h4>
                            <label class="flex items-center text-gray-200">
                                <input type="checkbox" id="declaration" name="declaration" required>
                                <span class="ml-2">I confirm that the information provided is true to the best of my knowledge.</span>
                            </label>
                        </div>

                        <button type="submit" class="btn-primary w-full text-white px-6 py-3 rounded-full transition">Submit</button>
                    </form>
                    <p id="formMessage" class="mt-4 text-center text-sm hidden"></p>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-[#1E3A8A] text-white p-10">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-2xl font-bold mb-4">Viswa Vignana Vaaradhi</h3>
                    <p>We are a not-for-profit organization committed to improving lives through education, political awareness, and agricultural upliftment.</p>
                </div>
                <div>
                    <h3 class="text-2xl font-bold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="footer-link hover:underline">Home</a></li>
                        <li><a href="about.html" class="footer-link hover:underline">About</a></li>
                        <li><a href="get-involved.html" class="footer-link hover:underline">Get Involved</a></li>
                        <li><a href="our-work.html" class="footer-link hover:underline">Our Work</a></li>
                        <li><a href="contact.html" class="footer-link hover:underline">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-2xl font-bold mb-4">Contact Us</h3>
                    <p>Email: viswavignanavaaradhi@gmail.com</p>
                    <p>Phone: +91-1234567890</p>
                    <p>Address: New Address, Hyderabad, Telangana, India</p>
                </div>
            </div>
            <div class="mt-8 text-center">
                <p>© 2025 Viswa Vignana Vaaradhi. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <button id="scrollToTopBtn" title="Go to top">↑</button>

    <script>
        function animateSections() {
            const sections = document.querySelectorAll('.fade-in');
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.2 });
            sections.forEach(section => observer.observe(section));
        }

        function initParticles() {
            particlesJS('particles-js-hero', {
                particles: {
                    number: { value: 80, density: { enable: true, value_area: 800 } },
                    color: { value: '#3B82F6' },
                    shape: { type: 'circle' },
                    opacity: { value: 0.5, random: true },
                    size: { value: 3, random: true },
                    line_linked: { enable: true, distance: 150, color: '#3B82F6', opacity: 0.4, width: 1 },
                    move: { enable: true, speed: 2, direction: 'none', random: false, straight: false, out_mode: 'out', bounce: false }
                },
                interactivity: {
                    detect_on: 'canvas',
                    events: { onhover: { enable: true, mode: 'repulse' }, onclick: { enable: true, mode: 'push' }, resize: true },
                    modes: { repulse: { distance: 100, duration: 0.4 }, push: { particles_nb: 4 } }
                },
                retina_detect: true
            });

            particlesJS('particles-js-form', {
                particles: {
                    number: { value: 80, density: { enable: true, value_area: 800 } },
                    color: { value: '#3B82F6' },
                    shape: { type: 'circle' },
                    opacity: { value: 0.5, random: true },
                    size: { value: 3, random: true },
                    line_linked: { enable: true, distance: 150, color: '#3B82F6', opacity: 0.4, width: 1 },
                    move: { enable: true, speed: 2, direction: 'none', random: false, straight: false, out_mode: 'out', bounce: false }
                },
                interactivity: {
                    detect_on: 'canvas',
                    events: { onhover: { enable: true, mode: 'repulse' }, onclick: { enable: true, mode: 'push' }, resize: true },
                    modes: { repulse: { distance: 100, duration: 0.4 }, push: { particles_nb: 4 } }
                },
                retina_detect: true
            });
        }

        function initScrollToTop() {
            const scrollToTopBtn = document.getElementById('scrollToTopBtn');
            window.onscroll = function () {
                if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                    scrollToTopBtn.style.display = 'block';
                } else {
                    scrollToTopBtn.style.display = 'none';
                }
            };
            scrollToTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            animateSections();
            initParticles();
            initScrollToTop();

            const grievanceForm = document.getElementById('grievanceForm');
            const formMessage = document.getElementById('formMessage');
            const stateSelect = document.getElementById('state');
            const districtSection = document.getElementById('districtSection');
            const districtSelect = document.getElementById('district');
            const subcategories = {
                "political-literacy-civic-engagement": [
                    { value: "voter-education-electoral-process-assistance", label: "Voter Education & Electoral Process Assistance (e.g., voter registration, electoral fraud prevention)" },
                    { value: "understanding-democratic-institutions", label: "Understanding Democratic Institutions & Engaging with Representatives" },
                    { value: "electoral-processes-reforms", label: "Electoral Processes & Reforms (e.g., Election Commission, NOTA, Model Code of Conduct)" },
                    { value: "citizens-role-in-governance", label: "Citizens’ Role in Governance (e.g., public consultations, grievance mechanisms, Right to Information (RTI) applications)" },
                    { value: "political-ethics-responsibilities", label: "Political Ethics & Responsibilities (e.g., ethical voting, misinformation)" },
                    { value: "youth-participation-in-politics", label: "Youth Participation in Politics (e.g., leadership, political literacy clubs, career pathways)" },
                    { value: "youth-student-political-awareness", label: "Youth & Student Political Awareness (e.g., civic participation, leadership programs)" },
                    { value: "political-electoral-rights", label: "Political & Electoral Rights (e.g., Representation of the People Act, anti-defection laws, challenging malpractices)" }
                ],
                "legal-literacy-access-to-justice": [
                    { value: "basic-legal-awareness", label: "Basic Legal Awareness (e.g., fundamental rights, consumer rights, property, labor, family laws)" },
                    { value: "legal-rights-responsibilities", label: "Legal Rights & Responsibilities (e.g., rights in case of arrest, protection against violence/discrimination, tenant/landlord rights)" },
                    { value: "access-to-legal-aid-justice", label: "Access to Legal Aid & Justice (e.g., free legal aid, Lok Adalats, Alternative Dispute Resolution)" },
                    { value: "womens-rights-legal-protections", label: "Women’s Rights & Legal Protections (e.g., domestic violence, sexual harassment, POSH Act, marriage, divorce, inheritance)" },
                    { value: "child-rights-protection-laws", label: "Child Rights & Protection Laws (e.g., child labor, abuse prevention, RTE Act, juvenile justice)" },
                    { value: "legal-awareness-marginalized-communities", label: "Legal Awareness for Marginalized Communities (e.g., reservation policies, SC/ST rights, anti-discrimination)" },
                    { value: "consumer-rights-cyber-law-awareness", label: "Consumer Rights & Cyber Law Awareness (e.g., online fraud, data privacy, cybercrime)" },
                    { value: "support-with-rti-pil", label: "Support with Right to Information (RTI) & Public Interest Litigation (PIL)" },
                    { value: "community-participation-legal-reforms", label: "Community Participation in Legal Reforms" }
                ],
                "education-skill-development": [
                    { value: "academic-support-struggling-students", label: "Academic Support for Struggling Students (e.g., mentorship, remedial classes, career counseling)" },
                    { value: "access-to-community-learning-centers", label: "Access to Community Learning Centers" },
                    { value: "support-for-free-educational-institutes", label: "Support for Free Educational Institutes (e.g., schooling, vocational training, study materials)" },
                    { value: "enhancing-access-to-education", label: "Enhancing Access to Education (e.g., RTE Act, scholarships, government schemes, digital education)" },
                    { value: "learning-support-networks-peer-learning", label: "Learning Support Networks & Peer Learning Opportunities" },
                    { value: "political-legal-literacy-in-education", label: "Political & Legal Literacy in Educational Institutions" },
                    { value: "holistic-development-leadership-programs", label: "Holistic Development & Leadership Programs" },
                    { value: "career-guidance-higher-education", label: "Career Guidance & Higher Education Opportunities (e.g., competitive exam prep, scholarships)" },
                    { value: "digital-financial-literacy-training", label: "Digital & Financial Literacy Training (e.g., online safety, personal finance, government schemes)" },
                    { value: "bridging-education-employment", label: "Bridging Education & Employment (e.g., internships, job-oriented training, interview preparation)" }
                ],
                "agriculture-rural-livelihoods": [
                    { value: "modern-sustainable-farming-techniques", label: "Modern & Sustainable Farming Techniques (e.g., organic farming, precision farming)" },
                    { value: "agricultural-knowledge-resource-center", label: "Agricultural Knowledge & Resource Center Support" },
                    { value: "government-schemes-legal-rights-farmers", label: "Government Schemes & Legal Rights for Farmers (e.g., subsidies, loans, crop insurance, land rights, MSP)" },
                    { value: "market-access-farmer-empowerment", label: "Market Access & Farmer Empowerment (e.g., direct market, digital trading, FPOs)" },
                    { value: "organic-farming-sustainable-agriculture", label: "Organic Farming & Sustainable Agriculture Promotion" },
                    { value: "water-conservation-irrigation-efficiency", label: "Water Conservation & Irrigation Efficiency" },
                    { value: "skill-development-entrepreneurship-agriculture", label: "Skill Development & Entrepreneurship in Agriculture (e.g., agri-business, food processing)" },
                    { value: "agricultural-education-research-support", label: "Agricultural Education & Research Support" },
                    { value: "digital-literacy-smart-agriculture", label: "Digital Literacy & Smart Agriculture (e.g., mobile apps, eNAM)" },
                    { value: "farmer-suicides-mental-health-support", label: "Farmer Suicides & Mental Health Support" },
                    { value: "agro-tourism-rural-development", label: "Agro-Tourism & Rural Development Initiatives" }
                ],
                "rural-development-community-empowerment": [
                    { value: "strengthening-rural-education-digital-learning", label: "Strengthening Rural Education & Digital Learning" },
                    { value: "enhancing-rural-infrastructure-public-services", label: "Enhancing Rural Infrastructure & Public Services (e.g., roads, electricity, sanitation)" },
                    { value: "rural-employment-skill-development", label: "Rural Employment & Skill Development (e.g., vocational skills, entrepreneurship)" },
                    { value: "empowering-women-social-inclusion", label: "Empowering Women & Social Inclusion (e.g., SHGs, legal awareness, microcredit)" },
                    { value: "improving-healthcare-sanitation-rural", label: "Improving Healthcare & Sanitation in Rural Areas" },
                    { value: "digital-transformation-rural-connectivity", label: "Digital Transformation & Rural Connectivity (e.g., internet access, e-governance)" },
                    { value: "disaster-preparedness-climate-resilience", label: "Disaster Preparedness & Climate Resilience in Rural Communities" },
                    { value: "rural-tourism-cultural-preservation", label: "Rural Tourism & Cultural Preservation" },
                    { value: "strengthening-rural-governance-civic-participation", label: "Strengthening Rural Governance & Civic Participation (e.g., Panchayati Raj, citizen rights)" }
                ],
                "health-well-being": [
                    { value: "access-to-basic-healthcare-services", label: "Access to Basic Healthcare Services (e.g., health camps, mobile clinics, telemedicine, government schemes)" },
                    { value: "preventive-healthcare-disease-awareness", label: "Preventive Healthcare & Disease Awareness (e.g., nutrition, hygiene, disease prevention)" },
                    { value: "mental-health-awareness-support", label: "Mental Health Awareness & Support (e.g., counseling, support groups, helplines)" },
                    { value: "addressing-substance-abuse-addiction", label: "Addressing Substance Abuse & Addiction" },
                    { value: "womens-adolescent-health", label: "Women's & Adolescent Health (e.g., menstrual hygiene, reproductive health, maternal care)" },
                    { value: "nutrition-wellness-programs", label: "Nutrition & Wellness Programs" },
                    { value: "physical-fitness-lifestyle-awareness", label: "Physical Fitness & Lifestyle Awareness" },
                    { value: "special-support-elderly-disabled", label: "Special Support for Elderly & Disabled Individuals" },
                    { value: "emergency-response-disaster-health-preparedness", label: "Emergency Response & Disaster Health Preparedness" },
                    { value: "advocacy-policy-support-public-health", label: "Advocacy & Policy Support for Public Health" }
                ]
            };


            const districts = {
                "andhra-pradesh": ["Alluri Sitharama Raju", "Anakapalli", "Anantapur", "Annamayya", "Bapatla", "Chittoor", "East Godavari", "Eluru", "Guntur", "Kakinada", "Konaseema", "Krishna", "Kurnool", "Nandyal", "Nellore", "Palnadu", "Parvathipuram Manyam", "Prakasam", "Sri Balaji", "Sri Potti Sriramulu Nellore", "Sri Sathya Sai", "Srikakulam", "Visakhapatnam", "Vizianagaram", "West Godavari", "YSR Kadapa"],
                "telangana": ["Adilabad", "Bhadradri Kothagudem", "Hyderabad", "Jagtial", "Jangaon", "Jayashankar Bhupalpally", "Jogulamba Gadwal", "Kamareddy", "Karimnagar", "Khammam", "Komaram Bheem Asifabad", "Mahabubabad", "Mahbubnagar", "Mancherial", "Medak", "Medchal-Malkajgiri", "Mulugu", "Nagarkurnool", "Nalgonda", "Narayanpet", "Nirmal", "Nizamabad", "Peddapalli", "Rajanna Sircilla", "Rangareddy", "Sangareddy", "Siddipet", "Suryapet", "Vikarabad", "Wanaparthy", "Warangal Rural", "Warangal Urban", "Yadadri Bhuvanagiri"],
                "delhi": ["Central Delhi", "East Delhi", "New Delhi", "North Delhi", "North East Delhi", "North West Delhi", "Shahdara", "South Delhi", "South East Delhi", "South West Delhi", "West Delhi"]
            };
            categorySelect.addEventListener('change', () => {
                const selectedCategory = categorySelect.value;
                subcategorySelect.innerHTML = '<option value="" disabled selected>Select a subcategory</option>';

                if (selectedCategory && subcategories[selectedCategory]) {
                    subcategories[selectedCategory].forEach(sub => {
                        const option = document.createElement('option');
                        option.value = sub.value;
                        option.textContent = sub.label;
                        subcategorySelect.appendChild(option);
                    });
                    subcategorySection.style.display = '';
                } else {
                    subcategorySection.style.display = 'none';
                }
            });


            stateSelect.addEventListener('change', () => {
                const selectedState = stateSelect.value;
                districtSelect.innerHTML = '<option value="" disabled selected>Select a district</option>';

                if (selectedState && districts[selectedState]) {
                    districts[selectedState].forEach(district => {
                        const option = document.createElement('option');
                        option.value = district.toLowerCase().replace(/\s+/g, '-');
                        option.textContent = district;
                        districtSelect.appendChild(option);
                    });
                    districtSection.style.display = 'block';
                } else {
                    districtSection.style.display = 'none';
                }
            });

            grievanceForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                formMessage.classList.add('hidden');

                const formData = {
                    fullName: document.getElementById('fullName').value,
                    mobileNumber: document.getElementById('mobileNumber').value,
                    email: document.getElementById('email').value,
                    state: document.getElementById('state').value,
                    district: document.getElementById('district').value,
                    mandal: document.getElementById('mandal').value,
                    category: document.getElementById('category').value,
                    subcategory: document.getElementById('subcategory').value,
                    description: document.getElementById('description').value,
                    declaration: document.getElementById('declaration').checked
                };

                try {
                    const response = await fetch('http://localhost:3000/api/grievance', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(formData)
                    });
                    const result = await response.json();

                    if (response.ok) {
                        formMessage.classList.remove('hidden', 'text-red-500');
                        formMessage.classList.add('text-green-500');
                        formMessage.textContent = result.message || 'Grievance/Support request submitted successfully!';
                        grievanceForm.reset();
                        districtSection.style.display = 'none';
                    } else {
                        throw new Error(result.message || 'Submission failed');
                    }
                } catch (error) {
                    formMessage.classList.remove('hidden', 'text-green-500');
                    formMessage.classList.add('text-red-500');
                    formMessage.textContent = error.message || 'Error submitting form. Please try again.';
                }
            });
        });
    </script>
</body>
</html>